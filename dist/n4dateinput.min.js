!function(e){"use strict";e.module("n4DateInput",[]).directive("n4DateInput",["$filter",function(e){return{require:"ngModel",restrict:"EAC",replace:!0,template:'<input type="text">',link:function(t,n,r,a){var u=function(t){if(!t)return"";var n,a,u,d=function(t){return isNaN(t)?"":e("date")(t,"dd/MM/yyyy")};return t instanceof Date?d(t):(n=t.replace(/\D/gi,""),a=new RegExp("^(\\d{2})(\\d{2})(\\d{2})$","gi"),a.test(n)?(u=new Date(n.replace(a,"$2/$1/"+(r.century||"20")+"$3")),d(u)):(a=new RegExp("^(\\d{2})(\\d{2})(\\d{4})$","gi"),a.test(n)?(u=new Date(n.replace(a,"$2/$1/$3")),d(u)):(a=new RegExp("^\\w{3} \\w{3} \\d{1,2} \\d{4} .*$","gi"),a.test(t)?d(new Date(t)):(a=new RegExp("^\\d{4}\\-\\d{2}\\-\\d{2}T\\d{2}:\\d{2}.*$"),a.test(t)?(u=new Date(t),d(u)):t))))},d=function(e){var t=u(e),n=new RegExp("^(\\d{2})/(\\d{2})/(\\d{4})$","gi"),r=n.test(t)?new Date(t.replace(n,"$2/$1/$3")):null;return r};n.attr("placeholder")||n.attr("placeholder","00/00/0000"),n.attr("maxlength",10),n.on("blur",function(){n.val(u(n.val()))}),a.$formatters.push(u),a.$parsers.push(d),t.$on("$destroy",function(){n.off("blur")})}}}])}(angular);